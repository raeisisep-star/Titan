# 🚀 تایتان - سیستم معاملات خودکار

## 📋 نمای کلی پروژه
- **نام**: تایتان (TITAN Trading System)
- **هدف**: سیستم معاملات خودکار مجهز به هوش مصنوعی آرتمیس
- **وضعیت فعلی**: **✅ سیستم کامل و کاملاً عملیاتی** 
- **نسخه**: 3.1.2 (Enhanced System Status Dashboard - Phase 6.2)

## 🌐 لینک‌های سرویس

### **🚀 Production URLs**
- **🏠 برنامه اصلی**: https://85f9637c.titan-trading.pages.dev ✅ **LIVE & UPDATED** (9 Sep 2025 - Phase 6.4 AI Management Integration)
- **🔧 API Health Check**: https://85f9637c.titan-trading.pages.dev/api/health ✅ **WORKING**
- **🤖 AI Services**: https://85f9637c.titan-trading.pages.dev/api/ai/test ✅ **INTEGRATED**
- **🔐 Authentication**: https://85f9637c.titan-trading.pages.dev/api/auth/login ✅ **ACTIVE**
- **👤 User Profile**: https://85f9637c.titan-trading.pages.dev (Click username → Profile) ✅ **NEW FEATURE**
- **👥 User Management**: https://85f9637c.titan-trading.pages.dev (Settings → System) ✅ **ADMIN PANEL**
- **🆕 🧠 Complete AI Management**: https://85f9637c.titan-trading.pages.dev (Settings → 🤖 هوش مصنوعی) ✅ **PHASE 6.4 UNIFIED**
- **🆕 🖥️ System Status Monitor**: https://85f9637c.titan-trading.pages.dev (آیکون وضعیت سیستم) ✅ **NEW PHASE 6.1**
- **🔐 GitHub Repository**: https://github.com/raeisisep-star/Titan ✅ **LIVE & SYNCED** (Latest: 23 Aug 2025)

### **🔧 Development URLs**
- **🏠 Development Server**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev ✅ **LIVE - Enhanced System Status Ready**
- **🔧 Development Health**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/health
- **🆕 🧠 Complete AI Management Dashboard**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/ai-test ✅ **NEW - Full Featured**
- **👤 Profile Management**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/profile (Click on username)
- **👥 Admin User Management**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev (Settings → User Management)
- **🚨 Suspicious Activities**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/admin/users/suspicious-activities
- **🎯 Mode API Status**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/mode/status/demo_user
- **💰 Demo Wallet**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/mode/demo/wallet/demo_user
- **🤖 AI Status**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/ai/agents/list
- **🆕 🧠 Advanced AI Config**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/ai/config/config
- **🆕 🤖 AI Providers**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/ai/config/providers
- **🆕 💭 Enhanced AI Chat**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/ai/advanced/chat/enhanced
- **🆕 😊 Sentiment Analysis**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/ai/advanced/sentiment/analyze
- **🆕 🖥️ Enhanced System Status**: https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/autopilot/system/enhanced-status ✅ **NEW**

### **📦 Project Backup**
- **🗄️ Latest Backup**: https://page.gensparksite.com/project_backups/tooluse_d7yQJkViQsuet_ljQCct4Q.tar.gz ✅ **FRESH** (9 Sep 2025)
- **🗄️ Previous Backup**: https://page.gensparksite.com/project_backups/tooluse_1ARI-oBGQCuWYkyJmxZmsg.tar.gz ✅ **AVAILABLE** (23 Aug 2025)
- **📄 Description**: TITAN Trading System Phase 6.4 - Complete AI Management Integration with 5 unified tabs

### **🔑 حساب‌های تست (Demo Accounts):**
- **Admin**: `admin@titan.com` / `admin123` (دسترسی کامل)
- **Demo**: `demo@titan.com` / `demo123` (حالت دمو)
- **Trader**: `trader@titan.com` / `trader123` (معاملات)
- **Analyst**: `analyst@titan.com` / `analyst123` (تحلیل)
- **Viewer**: `viewer@titan.com` / `viewer123` (فقط مشاهده)

## 🎯 **ویژگی‌های کلیدی سیستم تایتان:**

### **🧠 هوش مصنوعی آرتمیس پیشرفته (Advanced AI Mother) - ✅ کامل و ارتقا یافته** ⭐
- **کنترل کامل سیستم**: مدیریت و تصمیم‌گیری برای کل سیستم معاملاتی
- **15 AI Sub-Agents**: هر یک با تخصص منحصر به فرد
- **🆕 اتصال به AI های خارجی**: ChatGPT-4, Google Gemini Pro, Anthropic Claude 3
- **🆕 تحلیل احساسات پیشرفته**: پردازش متن فارسی با تشخیص 6 نوع احساس
- **🆕 یادگیری ماشین هوشمند**: بهبود خودکار پاسخ‌ها براساس کیفیت و بازخورد
- **🆕 سیستم زنجیره پشتیبان**: اتصال اتوماتیک به ارائه‌دهندگان AI بدیل
- **🆕 حافظه زمینه**: ذخیره و بازیابی مکالمات برای پاسخ‌های هوشمندتر
- **🆕 آنالیتیکس پیشرفته**: ردیابی عملکرد و بهبود مداوم کیفیت AI
- **🆕 سیستم تنظیمات پیشرفته**: مدیریت کامل ارائه‌دهندگان AI و پیکربندی
- **🆕 مدیریت AI یکپارچه**: داشبورد کامل مدیریت 15 ایجنت در تنظیمات با 5 تب (نمای کلی، ایجنت‌ها، آموزش، آنالیتیکس، پیکربندی)
- **Mixture of Agents**: استفاده همزمان از OpenAI + Google + Anthropic + CoinGecko APIs
- **یادگیری مداوم**: بهبود مستمر الگوریتم‌ها و دقت پیش‌بینی‌ها
- **پیش‌بینی قیمت**: با درصد اطمینان و پیگیری نتایج
- **تحلیل اخبار**: آنالیز احساسات و تأثیر اخبار بر بازار
- **چت هوشمند**: رابط مکالمه فارسی با ��رتمیس AI
- **تست سرویس‌ها**: چک کردن وضعیت OpenAI, Anthropic, CoinGecko
- **تحلیل سریع**: آنالیز فوری بازار با داده‌های real-time

### **🖥️ سیستم مانیتورینگ و وضعیت سیستم پیشرفته - ✅ کامل و ارتقا یافته** ⭐
- **🆕 آیکون وضعیت سیستم**: نمایش real-time وضعیت کلی بالای چت‌بات
- **🆕 رنگ‌بندی هوشمند**: سبز (آنلاین), زرد (هشدار), قرمز (خطا), خاکستری (آفلاین)
- **🆕 متریک‌های عملکرد سیستم**: CPU, RAM, Disk usage با نوار پیشرفت
- **🆕 فعالیت‌های جاری مفصل**: trading opportunities، AI performance، price updates
- **🆕 انواع فعالیت**: فرصت‌های معاملاتی، عملکرد AI، آپدیت قیمت‌ها، فعالیت استراتژی‌ها
- **🆕 اولویت‌بندی فعالیت‌ها**: بالا (قرمز)، متوسط (زرد)، پایین (خاکستری)
- **🆕 بروزرسانی خودکار**: refresh هر 10 ثانیه با اطلاعات زنده
- **🆕 API پیشرفته**: `/api/autopilot/system/enhanced-status` با اطلاعات کامل
- **🆕 نمایش متریک‌های زنده**: uptime سیستم، load average، temperature CPU
- **🆕 نظارت بر AI**: عملکرد 4 ارائه‌دهنده AI (Artemis، ChatGPT، Gemini، Claude)
- **🆕 آمار معاملات**: تعداد معاملات، نرخ موفقیت، استراتژی‌های فعال
- **انیمیشن‌های زیبا**: Pulse effects و hover animations
- **طراحی Responsive**: سازگار با موبایل و دسکتاپ

### **🗄️ پایگاه داده Cloudflare D1 - ✅ کامل**
- **14 جدول اصلی**: users, trading_accounts, portfolios, trades, ai_analyses, market_data و بیشتر
- **Migration System**: مدیریت ساختار دیتابیس با Wrangler
- **Local Development**: SQLite محلی با --local mode
- **CRUD Operations**: عملیات کامل Create, Read, Update, Delete
- **AI Analysis Storage**: ذخیره و بازیابی تحلیل‌های هوشمند
- **Market Data Management**: مدیریت داده‌های بازار real-time
- **User Management**: سیستم کاربران و احراز هویت
- **Performance Indexing**: ایندکس‌گذاری برای بهبود عملکرد
- **Data Validation**: کنترل صحت داده‌ها با Constraints

### **🏦 اتصال به صرافی‌ها - ✅ کامل**
- **پشتیبانی چندصرافی**: Binance, Coinbase Pro, KuCoin, Mock Exchange
- **معاملات زنده**: اتصال مستقیم به API های صرافی‌ها
- **مدیریت سفارش**: ثبت، لغو، و پیگیری سفارشات
- **بررسی موجودی**: نمایش real-time موجودی حساب‌ها
- **استراتژی‌های هوشمند**: Momentum, Mean Reversion, DCA
- **مدیریت ریسک**: Rate limiting و کنترل خطا

### **📢 سیستم اعلان‌ها - ✅ کامل**
- **چندکانال**: Email, Telegram, SMS, Discord
- **اعلان‌های معاملاتی**: اطلاع از باز/بسته شدن معاملات
- **هشدار قیمت**: اعلان هنگام رسیدن به اهداف قیمتی
- **بینش‌های AI**: ارسال توصیه‌ها و تحلیل‌های هوشمند
- **وضعیت سیستم**: اطلاع از مشکلات و آپدیت‌ها
- **گزارش پرتفولیو**: خلاصه عملکرد دوره‌ای

### **🔐 امنیت پیشرفته - ✅ کامل**
- **احراز هویت JWT**: سیستم توکن‌های امن
- **مدیریت جلسات**: کنترل session ها و logout خودکار
- **Rate Limiting**: محافظت در برابر حملات DDoS
- **رمزنگاری**: محافظت از اطلاعات حساس
- **Audit Logging**: ثبت تمام فعالیت‌های امنیتی
- **کنترل دسترسی**: مجوزهای مبتنی بر نقش کاربر
- **🆕 امنیت لاگین**: پیشگیری از نمایش UI در صفحه لاگین (24 Aug 2025)

### **📊 داشبورد هوشمند - ✅ کامل**
- **ویجت‌های جابجایی**: کاملاً قابل تنظیم و شخصی‌سازی
- **نمای زنده**: اطلاعات real-time از بازارها و معاملات
- **وضعیت سیستم**: مانیتورینگ کامل سلامت سیستم
- **آمار عملکرد**: نمایش جزئیات سود، ضرر، و عملکرد
- **نمودارهای تعاملی**: Chart.js integration با دیتای زنده

### **🔄 موتور معاملات خودکار - ✅ کامل**
- **معاملات همزمان**: تا 50 معامله همزمان
- **تارگت‌گذاری هوشمند**: تبدیل مبلغ مشخص (مثلاً 100$ → 500$)
- **حالت دمو/واقعی**: کیف پول مجازی برای تست و بهبود سیستم
- **مدیریت ریسک پیشرفته**: سیستم‌های ایمنی اضطراری
- **Autopilot Engine**: سیستم خودکار کامل معاملات

### **🎯 سیستم Demo/Live Mode Toggle - ✅ کامل و جدید**
- **تبدیل هوشمند**: تغییر فوری بین حالت دمو و واقعی از نوار بالای پنل
- **کیف پول مجازی**: موجودی مجازی با ۹ ارز مختلف (USDT, BTC, ETH, BNB, ADA, SOL, DOT, LINK, LTC)
- **شارژ آسان**: شارژ سریع و دستی کیف پول دمو با دکمه‌های مختلف
- **محیط واقعی**: عملکرد دقیقاً مشابه محیط واقعی برای یادگیری
- **تایید امنیت**: سیستم تأیید قبل از تغییر به حالت واقعی
- **مدیریت موجودی**: نمایش و مدیریت کامل دارایی‌های دمو
- **بازنشانی سریع**: بازگرداندن کیف پول دمو به حالت اولیه
- **نمایش وضعیت**: نشانگر رنگی و متنی برای نمایش حالت فعلی سیستم

### **🧩 معماری ماژولار پیشرفته - ✅ کامل و جدید** ⭐
- **تقسیم به 9 ماژول مستقل**: کاهش app.js از 10,210 خط (484KB) به 7,912 خط (344KB)
- **سیستم ModuleLoader**: بارگذاری داینامیک با namespace TitanModules
- **Cache-busting**: کنترل خودکار نسخه‌ها برای hot-reload در development
- **Error Recovery**: مدیریت خطا و fallback برای ماژول‌های ناموجود
- **Lazy Loading**: بارگذاری فقط ماژول‌های موردنیاز
- **Memory Management**: پاکسازی خودکار cache و unload ماژول‌ها
- **Development Friendly**: لاگ کامل برای debug و monitoring

**ماژول‌های جداگانه**:
1. **dashboard.js** (47KB) - داشبورد و ویجت‌ها
2. **trading.js** (52KB) - موتور معاملات و سفارشات  
3. **portfolio.js** (31KB) - مدیریت پورتفولیو
4. **artemis.js** (28KB) - هوش مصنوعی آرتمیس
5. **watchlist.js** (38KB) - لیست مراقبت و قیمت‌ها
6. **analytics.js** (35KB) - آنالیز و گزارش‌ها  
7. **news.js** (20KB) - اخبار و تحلیل احساسات
8. **alerts.js** (6KB) - سیستم هشدارها
9. **settings.js** (5KB) - تنظیمات سیستم

### **👥 سیستم مدیریت کاربران کامل - ✅ Phase 5.2 تکمیل شده**

#### **👤 پروفایل کاربری شخصی (از Header)**
- **دسترسی آسان**: کلیک روی نام کاربری در نوار بالا → پروفایل
- **4 تب کامل**:
  - **🔧 General**: ویرایش نام کامل، ایمیل، تلفن، بیو، مکان
  - **🔒 Security**: تغییر رمز عبور، تنظیمات امنیتی، 2FA
  - **⚙️ Preferences**: زبان، تم، منطقه زمانی، اعلان‌ها
  - **📊 Stats**: آمار معاملات (1547 کل، $234,567 سود، 67.3% نرخ برد، 5 استراتژی فعال)
- **Mock Data**: داده‌های کامل تست برای دمو
- **UI/UX پیشرفته**: مودال responsive با تب‌های تعاملی

#### **🛡️ پنل مدیریت ادمین (Settings → System → Users)**
- **📊 آمار Dashboard**: 1247 کاربر، 89 آنلاین، 156 جدید، 3 مشکوک
- **📋 کاربران با جزئیات کامل**: 8 کاربر Mock با اطلاعات فول
- **🔍 فیلترینگ پیشرفته**: جستجو بر اساس نام، ایمیل، وضعیت، نقش
- **👁️ عملیات فردی**: مشاهده، ویرایش، تغییر وضعیت، حذف (4 دکمه)
- **⚡ عملیات گروهی**: فعال‌سازی، تعلیق، حذف multiple users (3 دکمه)
- **🚨 نظارت مشکوک**: لیست فعالیت‌های امنیتی و حل مسائل
- **➕ ایجاد کاربر**: دکمه "افزودن کاربر جدید" برای ادمین‌ها
- **📄 Pagination**: صفحه‌بندی با نمایش 1-10 از کل کاربران

## 🏗️ معماری سیستم

```
تایتان (TITAN) - نسخه 2.2.0 (Modular Architecture Completed)
├── 🧠 آرتمیس (ARTEMIS AI Mother) ✅
│   ├── 15 AI Specialized Agents
│   ├── GPT + Gemini + Claude APIs
│   ├── Learning & Prediction Engine
│   └── News Sentiment Analysis
├── 🏦 Exchange Integration ✅
│   ├── Binance API
│   ├── Coinbase Pro API
│   ├── KuCoin API
│   └── Mock Exchange (Testing)
├── 📢 Notification System ✅
│   ├── Email (SMTP)
│   ├── Telegram Bot
│   ├── SMS (Kavenegar/Twilio)
│   └── Discord Webhooks
├── 🔐 Enhanced Security ✅
│   ├── JWT Authentication
│   ├── Session Management
│   ├── Rate Limiting
│   ├── Audit Logging
│   └── Permission Control
├── 🧩 Modular Architecture System ✅ NEW!
│   ├── ModuleLoader (Dynamic Loading)
│   ├── 9 Independent Modules
│   ├── Cache-busting & Hot-reload
│   └── TitanModules Namespace
├── 📊 Real-time Dashboard ✅
├── 💼 Portfolio Manager ✅
├── 🔄 Autopilot Trading Engine ✅
├── 💰 Multi-Wallet Manager ✅
├── 📈 AI Analytics & Predictions ✅
├── 📰 News Analysis & Calendar ✅
├── 🤖 Chat Assistant ✅
└── ⚙️ Comprehensive Settings ✅
```

## 📚 ساختار فایل‌ها

```
webapp/
├── src/
│   ├── index.tsx              # نقطه ورود اصلی برنامه
│   ├── services/              # سرویس‌های اصلی سیستم
│   │   ├── ai-service.ts      # ✅ سرویس هوش مصنوعی (GPT+Gemini+Claude)
│   │   ├── exchange-service.ts # ✅ اتصال به صرافی‌ها
│   │   ├── notification-service.ts # ✅ سیستم اعلان‌های چندکانال
│   │   ├── security-service.ts # ✅ امنیت و احراز هویت
│   │   └── storage-service.ts  # ✅ مدیریت داده‌ها و کش
│   ├── middleware/            # میان‌افزارهای امنیتی
│   │   └── auth.ts           # ✅ احراز هویت و مجوزها
│   ├── modules/               # ماژول‌های اصلی سیستم (Backend)
│   │   ├── auth/             # ✅ احراز هویت پیشرفته
│   │   ├── dashboard/        # ✅ داشبورد و ویجت‌ها
│   │   ├── trading/          # ✅ موتور معاملات + Exchange APIs
│   │   ├── portfolio/        # ✅ مدیریت پورتفولیو
│   │   ├── wallet/           # ✅ مدیریت کیف پول‌ها
│   │   ├── analytics/        # ✅ تحلیل و گزارش‌ها
│   │   ├── news/             # ✅ اخبار و تحلیل احساسات
│   │   ├── chat/             # ✅ چت‌بات آرتمیس
│   │   ├── notifications/    # ✅ مدیریت اعلان‌ها
│   │   ├── settings/         # ✅ تنظیمات سیستم
│   │   └── system/           # ✅ وضعیت سیستم
│   └── ai/                   # ماژول‌های هوش مصنوعی
│       ├── artemis/          # ✅ آرتمیس AI اصلی
│       ├── agents/           # ✅ 15 ایجنت تخصصی
│       └── prediction/       # ✅ پیش‌بینی و یادگیری
├── public/static/            # فایل‌های استاتیک
│   ├── modules/              # ✅ ماژول‌های Frontend (Modular Architecture)
│   │   ├── module-loader.js  # ✅ سیستم بارگذاری ماژول‌ها
│   │   ├── dashboard.js      # ✅ ماژول داشبورد (47KB)
│   │   ├── trading.js        # ✅ ماژول معاملات (52KB)
│   │   ├── portfolio.js      # ✅ ماژول پورتفولیو (31KB)
│   │   ├── artemis.js        # ✅ ماژول آرتمیس AI (28KB)
│   │   ├── watchlist.js      # ✅ ماژول لیست مراقبت (38KB)
│   │   ├── analytics.js      # ✅ ماژول آنالیز (35KB)
│   │   ├── news.js           # ✅ ماژول اخبار (20KB)
│   │   ├── alerts.js         # ✅ ماژول هشدارها (6KB)
│   │   └── settings.js       # ✅ ماژول تنظیمات (5KB)
│   ├── app.js                # ✅ اپلیکیشن اصلی (کاهش یافته: 344KB)
│   └── styles.css            # ✅ استایل‌های سفارشی
├── wrangler.jsonc            # ✅ تنظیمات Cloudflare + KV + D1
├── vite.config.mjs           # ✅ تنظیمات بیلد
├── ecosystem.config.cjs      # ✅ تنظیمات PM2
└── package.json              # ✅ وابستگی‌های پروژه
```

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها
- Node.js 18+
- npm یا yarn
- Wrangler CLI برای Cloudflare
- PM2 برای process management

### مراحل نصب
```bash
# کلون پروژه
git clone <repository-url>
cd webapp

# نصب وابستگی‌ها
npm install

# بیلد پروژه
npm run build

# راه‌اندازی برای توسعه (sandbox)
pm2 start ecosystem.config.cjs

# تست سیستم
npm run test

# Deploy به Cloudflare Pages
npm run deploy
```

## 📍 API Endpoints کامل

### **🔐 Authentication & Security**
```
POST /api/auth/login           # ✅ ورود با امنیت پیشرفته
POST /api/auth/logout          # ✅ خروج و پاکسازی session
POST /api/auth/verify          # ✅ تأیید JWT token
POST /api/auth/refresh         # ✅ تمدید token
```

### **🎯 Demo/Live Mode Management**
```
GET  /api/mode/status/{userId}       # ✅ دریافت وضعیت حالت معاملات
POST /api/mode/switch                # ✅ تغییر بین حالت دمو و واقعی
GET  /api/mode/demo/wallet/{userId}  # ✅ نمایش کیف پول مجازی
POST /api/mode/demo/add-funds        # ✅ شارژ کیف پول دمو
POST /api/mode/demo/reset-wallet     # ✅ بازنشانی کیف پول دمو
POST /api/mode/demo/trade            # ✅ اجرای معاملات آزمایشی
GET  /api/mode/demo/portfolio/{userId} # ✅ پورتفولیو دمو
GET  /api/mode/demo/history/{userId}   # ✅ تاریخچه معاملات دمو
```

### **👥 User Profile & Management (NEW)**
```
GET  /api/profile/{userId}           # ✅ نمایش پروفایل شخصی کاربر
PUT  /api/profile/{userId}           # ✅ بروزرسانی اطلاعات پروفایل
POST /api/profile/{userId}/avatar    # ✅ آپلود آواتار جدید
POST /api/profile/{userId}/password  # ✅ تغییر رمز عبور
POST /api/profile/{userId}/2fa       # ✅ فعال/غیرفعال کردن 2FA
GET  /api/profile/{userId}/sessions  # ✅ لیست جلسات فعال
DELETE /api/profile/{userId}/session/{sessionId} # ✅ حذف جلسه مشخص
GET  /api/profile/{userId}/activity  # ✅ تاریخچه فعالیت‌های کاربر
POST /api/profile/{userId}/settings  # ✅ تنظیمات کاربری
GET  /api/profile/{userId}/security-log # ✅ لاگ امنیتی
```

### **🛡️ Admin User Management (NEW)**
```
GET  /api/admin/users/stats          # ✅ آمار کلی کاربران
GET  /api/admin/users/list           # ✅ لیست کاربران با فیلتر و صفحه‌بندی
GET  /api/admin/users/{userId}       # ✅ جزئیات کامل کاربر مشخص
PUT  /api/admin/users/{userId}       # ✅ بروزرسانی کاربر توسط ادمین
POST /api/admin/users/{userId}/status # ✅ تغییر وضعیت (فعال/غیرفعال/تعلیق/بن)
DELETE /api/admin/users/{userId}     # ✅ حذف کاربر (با تأیید)
POST /api/admin/users/{userId}/reset-password # ✅ بازنشانی رمز عبور
POST /api/admin/users/{userId}/force-logout   # ✅ خروج اجباری از همه دستگاه‌ها
GET  /api/admin/users/suspicious-activities   # ✅ فعالیت‌های مشکوک 🔥 FIXED
POST /api/admin/users/suspicious-activities/{id}/resolve # ✅ حل مشکل مشکوک
POST /api/admin/users/create         # ✅ ایجاد کاربر جدید توسط ادمین
```

### **🏦 Exchange & Trading**
```
GET  /api/trading/exchanges     # ✅ لیست صرافی‌های در دسترس
GET  /api/trading/market/{symbol}  # ✅ داده‌های بازار زنده
GET  /api/trading/orderbook/{symbol}  # ✅ دفتر سفارشات
POST /api/trading/order         # ✅ ثبت سفارش جدید
DELETE /api/trading/order/{id}  # ✅ لغو سفارش
GET  /api/trading/balances      # ✅ موجودی حساب‌ها
POST /api/trading/ai-trade      # ✅ معامله هوشمند AI
```

### **🤖 AI & Predictions (Enhanced)**
```
GET  /api/ai/agents/list        # ✅ 15 ایجنت هوش مصنوعی
POST /api/ai/prediction/ai-predict  # ✅ پیش‌بینی قیمت AI
GET  /api/ai/prediction/latest  # ✅ آخرین پیش‌بینی‌ها
GET  /api/ai/prediction/metrics # ✅ آمار دقت پیش‌بینی‌ها
POST /api/news/ai-analyze       # ✅ تحلیل اخبار با AI

# 🆕 Advanced AI APIs (NEW)
POST /api/ai/advanced/chat/enhanced    # ✅ چت پیشرفته با AI های خارجی
POST /api/ai/advanced/sentiment/analyze  # ✅ تحلیل احساسات پیشرفته
GET  /api/ai/advanced/sentiment/history  # ✅ تاریخچه تحلیل احساسات
POST /api/ai/advanced/learning/feedback  # ✅ بازخورد برای یادگیری ماشین
GET  /api/ai/advanced/learning/metrics   # ✅ آمار یادگیری ماشین
GET  /api/ai/advanced/providers/status   # ✅ وضعیت ارائه‌دهندگان AI
POST /api/ai/advanced/providers/test     # ✅ تست اتصال ارائه‌دهندگان
GET  /api/ai/advanced/analytics/performance # ✅ آنالیتیکس عملکرد AI
POST /api/ai/advanced/context/memory     # ✅ مدیریت حافظه زمینه
GET  /api/ai/advanced/context/conversations # ✅ مکالمات ذخیره شده

# 🆕 AI Configuration APIs (NEW)
GET  /api/ai/config/config              # ✅ دریافت تنظیمات سیستم AI
POST /api/ai/config/config              # ✅ به‌روزرسانی تنظیمات سیستم
GET  /api/ai/config/providers           # ✅ لیست ارائه‌دهندگان AI
POST /api/ai/config/providers/{id}      # ✅ به‌روزرسانی ارائه‌دهنده مشخص
POST /api/ai/config/providers/{id}/test # ✅ تست اتصال ارائه‌دهنده
GET  /api/ai/config/providers/{id}/metrics # ✅ آمار عملکرد ارائه‌دهنده
POST /api/ai/config/reset               # ✅ بازگرداندن تنظیمات به حالت پیش‌فرض
GET  /api/ai/config/export              # ✅ خروجی تنظیمات
POST /api/ai/config/import              # ✅ وارد کردن تنظیمات
```

### **📢 Notifications**
```
GET  /api/notifications/config  # ✅ تنظیمات اعلان‌ها
POST /api/notifications/test    # ✅ تست ارسال پیام
POST /api/notifications/trade   # ✅ اعلان معاملات
POST /api/notifications/price-alert  # ✅ هشدار قیمت
GET  /api/notifications/stats   # ✅ آمار اعلان‌ها
GET  /api/notifications/history # ✅ تاریخچه پیام‌ها
```

### **📊 Analytics & Reports**
```
GET  /api/dashboard/overview    # ✅ داشبورد کامل
GET  /api/portfolio/performance # ✅ عملکرد پرتفولیو
GET  /api/analytics/profits     # ✅ آنالیز سود و زیان
GET  /api/news/latest           # ✅ آخرین اخبار
GET  /api/news/sentiment        # ✅ تحلیل احساسات بازار
```

### **⚙️ System Management**
```
GET  /api/health                # ✅ سلامت سیستم
GET  /api/system/status         # ✅ وضعیت کامل سیستم
POST /api/system/emergency-stop # ✅ توقف اضطراری
```

## 🎮 راهنمای کاربری

### **🔐 ورود به سیستم**
1. به آدرس اصلی سایت بروید
2. از حساب‌های تست استفاده کنید (admin@titan.com / admin123)
3. سیستم شما را به داشبورد هدایت می‌کند

### **📊 استفاده از داشبورد**
1. ویجت‌ها قابل drag & drop هستند
2. وضعیت آرتمیس در نوار بالا نمایش داده می‌شود  
3. معاملات فعال و عملکرد در زمان واقعی نمایش داده می‌شود
4. از منوی کناری برای دسترسی به بخش‌های مختلف استفاده کنید

### **🤖 تعامل با آرتمیس AI**
1. روی آیکون چت کلیک کنید
2. دستورات را به زبان طبیعی وارد کنید
3. آرتمیس درخواست‌ها را پردازش و اجرا می‌کند
4. پیش‌بینی‌ها و توصیه‌ها دریافت کنید

### **🏦 اتصال به صرافی‌ها**
1. از بخش Settings → Exchange APIs
2. کلیدهای API خود را وارد کنید
3. سیستم اتصال را تست می‌کند
4. معاملات زنده قابل اجرا می‌شود

### **📢 تنظیم اعلان‌ها**
1. از Settings → Notifications
2. کانال‌های مورد نظر را فعال کنید
3. اطلاعات تماس (Telegram، Email و...) را وارد کنید
4. پیام‌های تست ارسال کنید

### **🎯 استفاده از سیستم Demo/Live Mode**
1. **مشاهده حالت فعلی**: در نوار بالای سایت، نشانگر رنگی حالت معاملات را نشان می‌دهد
   - 🟠 حالت دمو: نارنجی (برای یادگیری و تست)
   - 🔴 حالت واقعی: قرمز (برای معاملات واقعی)

2. **تغییر حالت معاملات**:
   - روی نشانگر حالت کلیک کنید
   - از منو، حالت مورد نظر را انتخاب کنید
   - برای تغییر به حالت واقعی، تأیید امنیتی لازم است

3. **مدیریت کیف پول دمو**:
   - روی "مدیریت کیف پول دمو" کلیک کنید
   - موجودی فعلی ۹ ارز مختلف را مشاهده کنید
   - از بخش "شارژ کیف پول" موجودی اضافه کنید
   - دکمه‌های شارژ سریع برای افزودن آسان موجودی

4. **ویژگی‌های کیف پول دمو**:
   - موجودی پیش‌فرض: $76,250 (شامل USDT، BTC، ETH و...)
   - امکان شارژ دستی با انتخاب ارز و مقدار
   - دکمه‌های شارژ سریع: +$1,000 USDT، +$5,000 USDT، +0.1 BTC، +1 ETH
   - بازنشانی به موجودی اولیه با یک کلیک

### **👥 استفاده از سیستم مدیریت کاربران (جدید)**

#### **📱 پروفایل شخصی (برای همه کاربران)**
1. **دسترسی**: روی نام کاربری در نوار بالای سایت کلیک کنید
2. **مشاهده پروفایل**: اطلاعات شخصی، آواتار، وضعیت حساب
3. **ویرایش اطلاعات**: تغییر نام، ایمیل، شماره تلفن، آواتار
4. **امنیت حساب**: تغییر رمز عبور، فعال‌سازی احراز هویت دو مرحله‌ای
5. **مدیریت جلسات**: مشاهده دستگاه‌های متصل و خروج از جلسات مشخص
6. **تاریخچه فعالیت**: بررسی لاگ ورود، تغییرات حساب، عملیات امنیتی

#### **🛡️ پنل مدیریت ادمین (فقط ادمین‌ها)**
1. **دسترسی**: Settings → User Management
2. **آمار کلی**:
   - تعداد کل کاربران، کاربران فعال/آنلاین
   - کاربران جدید (امروز/این هفته/این ماه)
   - کاربران تعلیق شده، بن شده، تأیید شده/نشده
   - آمار معاملات کلی و فعالیت‌های مشکوک

3. **مدیریت کاربران**:
   - **لیست کاربران**: نمایش صفحه‌بندی شده با فیلتر بر اساس وضعیت، نقش
   - **جستجو**: جستجو بر اساس نام کاربری، ایمیل، نام کامل
   - **مرتب‌سازی**: مرتب‌سازی بر اساس تاریخ عضویت، آخرین فعالیت
   - **نمایش جزئیات**: کلیک روی "مشاهده" برای دیدن اطلاعات کامل کاربر

4. **عملیات مدیریتی**:
   - **تغییر وضعیت**: فعال، غیرفعال، تعلیق، بن کاربر
   - **بازنشانی رمز**: تولید رمز موقت برای کاربر
   - **خروج اجباری**: قطع همه جلسات کاربر از تمام دستگاه‌ها
   - **حذف کاربر**: حذف دائمی حساب (با تأیید امنیتی)
   - **ایجاد کاربر**: ثبت کاربر جدید توسط ادمین

5. **نظارت بر فعالیت‌های مشکوک**:
   - **لیست موارد مشکوک**: تلاش‌های ورود ناموفق، ورود از مکان غیرعادی، معاملات غیرعادی
   - **فیلتر بر اساس شدت**: کم، متوسط، بالا، بحرانی
   - **فیلتر بر اساس وضعیت**: حل شده / حل نشده
   - **اقدامات**: بررسی، حل مشکل، افزودن یادداشت ادمین

## 📈 وضعیت توسعه

### **✅ کاملاً تکمیل شده:**
- ✅ سیستم احراز هویت پیشرفته با JWT و Session Management
- ✅ اتصال کامل به صرافی‌ها (Binance, Coinbase, KuCoin)
- ✅ سیستم اعلان‌های چندکانال (Email, Telegram, SMS, Discord)
- ✅ هوش مصنوعی آرتمیس با Mixture of Agents (GPT+Gemini+Claude)
- ✅ سیستم پیش‌بینی قیمت با یادگیری مداوم
- ✅ تحلیل اخبار و احساسات بازار با AI
- ✅ موتور معاملات خودکار (Autopilot)
- ✅ داشبورد تعاملی و قابل شخصی‌سازی
- ✅ مدیریت پرتفولیو و آنالیز عملکرد
- ✅ سیستم امنیت شامل Rate Limiting و Audit Logging
- ✅ Cloudflare KV Storage برای کش و ذخیره‌سازی
- ✅ GitHub Integration و Version Control
- ✅ Deploy موفق در Cloudflare Pages
- ✅ Project Backup و Documentation کامل
- ✅ **Frontend Navigation System کاملاً تکمیل شده** (22 Aug 2025)
- ✅ **حل مشکل "ماژول در حال توسعه است"** - تمام منوها کار می‌کنند
- ✅ **سیستم Demo/Live Mode Toggle کاملاً پیاده‌سازی شده** (22 Aug 2025)
- ✅ **کیف پول مجازی با مدیریت کامل موجودی** - شارژ، بازنشانی و تراکنش دمو
- ✅ **🆕 سیستم مدیریت کاربران کامل** - پروفایل شخصی از منوی کاربری (22 Aug 2025)
- ✅ **🆕 پنل مدیریت ادمین پیشرفته** - آمار، لیست، ویرایش، حذف کاربران (22 Aug 2025)
- ✅ **🆕 سیستم نظارت بر فعالیت‌های مشکوک** - تشخیص و حل مشکلات امنیتی (22 Aug 2025)
- ✅ **🆕 حل مشکل مهم API Routing** - "/suspicious-activities" حالا کار می‌کند (22 Aug 2025)
- ✅ **🆕 انتقال کامل به معماری ماژولار** - تقسیم app.js به 9 ماژول مستقل (23 Aug 2025)
- ✅ **🆕 حل مشکل بحرانی "خطا در بارگذاری ماژول"** - تمام navigation items حالا کار می‌کنند (23 Aug 2025)
- ✅ **🆕 سیستم ModuleLoader پیشرفته** - بارگذاری داینامیک با cache-busting و error handling (23 Aug 2025)
- ✅ **🆕 سیستم مدیریت کاربران و پروفایل کامل (Phase 5.2)** - User Management + Profile Modal (23 Aug 2025)
- ✅ **🆕 رفع خطای "خطا در بارگذاری پروفایل کاربری"** - مودال پروفایل با 4 تب کامل (23 Aug 2025)
- ✅ **🆕 پنل ادمین User Management** - 8 کاربر Mock، فیلتر، جستجو، عملیات گروهی (23 Aug 2025)
- ✅ **🆕 Cache Management System** - کش busting، clear cache، hard refresh (23 Aug 2025)
- ✅ **🆕 Advanced AI System (Phase 6.0)** - External AI connections, sentiment analysis, ML (23 Aug 2025)
- ✅ **🆕 External AI Providers Integration** - ChatGPT-4, Google Gemini Pro, Anthropic Claude 3 (23 Aug 2025)
- ✅ **🆕 Advanced Sentiment Analysis** - Persian language support, 6-emotion detection (23 Aug 2025)
- ✅ **🆕 Machine Learning Response System** - Auto-improvement based on feedback quality (23 Aug 2025)
- ✅ **🆕 AI Configuration Management** - Provider settings, fallback chains, analytics (23 Aug 2025)
- ✅ **🆕 System Status Monitor (Phase 6.1)** - Real-time system monitoring with status icon (24 Aug 2025)
- ✅ **🆕 Authentication-based UI Security** - Chatbot and system status hidden on login page (24 Aug 2025)
- ✅ **🆕 Enhanced System Status Dashboard (Phase 6.2)** - Complete system activities and metrics (25 Aug 2025)
- ✅ **🆕 Complete AI Management Dashboard (Phase 6.3)** - Full 15 AI Agents management with 4-section dashboard (25 Aug 2025)
- ✅ **🆕 AI Management Tab Integration (Phase 6.4)** - Complete AI Management unified into Settings → AI with 5 tabs (9 Sep 2025)

### **🚀 آماده برای Production:**
- ✅ سیستم کاملاً عملیاتی و تست شده
- ✅ تمام API های اصلی فعال و کارآمد
- ✅ امنیت پیشرفته و مقاوم
- ✅ GitHub Repository راه‌اندازی شده
- ✅ Cloudflare Pages deployment فعال
- 🔄 تکمیل API Keys واقعی صرافی‌ها (برای معاملات Live)
- 🔄 پیکربندی کانال‌های اعلان واقعی (SMTP, Telegram Bot, SMS)

## 🌍 پشتیبانی از زبان‌ها
- **فارسی**: زبان اصلی رابط کاربری و اعلان‌ها
- **انگلیسی**: پشتیبانی کامل برای API ها و AI
- **RTL/LTR**: سوئیچ خودکار جهت متن

## 🔧 نکات فنی
- **Framework**: Hono + TypeScript
- **Platform**: Cloudflare Pages/Workers
- **Storage**: Cloudflare KV (Cache & Data)
- **Security**: JWT + Session + Rate Limiting
- **AI APIs**: OpenAI GPT + Google Gemini + Anthropic Claude
- **Exchange APIs**: Binance + Coinbase Pro + KuCoin
- **Notifications**: Multi-channel (Email, Telegram, SMS, Discord)
- **Frontend**: Vanilla JS + TailwindCSS + Chart.js
- **Build Tool**: Vite + PM2 Process Management
- **Deployment**: Automated via Wrangler

## 🔒 امنیت
- احراز هویت JWT با refresh tokens
- مدیریت session ها و logout خودکار
- Rate limiting برای API protection
- Audit logging برای تمام عملیات حساس
- کنترل دسترسی مبتنی بر نقش کاربر
- رمزنگاری اطلاعات حساس

## 📞 پشتیبانی

### **تست سیستم:**
```bash
# تست سلامت سیستم
curl https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/health

# تست احراز هویت
curl -X POST https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin@titan.com","password":"admin123"}'

# تست سیستم Demo/Live Mode (جدید)
curl https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/mode/status/demo_user

# تست کیف پول دمو
curl https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/mode/demo/wallet/demo_user

# تست وضعیت پیشرفته سیستم (جدید - Phase 6.2)
curl https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/autopilot/system/enhanced-status

# تست شارژ کیف پول دمو
curl -X POST https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/mode/demo/add-funds \
  -H "Content-Type: application/json" \
  -d '{"userId":"demo_user","currency":"USDT","amount":1000}'

# تست تغییر حالت به واقعی
curl -X POST https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/mode/switch \
  -H "Content-Type: application/json" \
  -d '{"userId":"demo_user","mode":"live","confirmation":true}'

# تست AI پیش‌بینی
curl -X POST https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/ai/prediction/ai-predict \
  -H "Content-Type: application/json" \
  -d '{"asset":"BTCUSDT","timeframe":"4h"}'

# تست اعلان‌ها
curl -X POST https://3000-iamgmbkoq4p98bf87r889-6532622b.e2b.dev/api/notifications/test \
  -H "Content-Type: application/json" \
  -d '{"message":"تست سیستم اعلان‌ها"}'
```

---

**تایتان - سیستم معاملات هوشمند نسل جدید 🚀**

*قدرت هوش مصنوعی، امنیت بانک‌ها، و سادگی استفاده در یک پلتفرم*