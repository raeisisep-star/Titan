# ๐ ฺฏุฒุงุฑุด ููุง: ุญู ูุดฺฉู ููุชโูุง Mock

## โ ูุดฺฉู ูุจู

ุดูุง ฺฏุฒุงุฑุด ฺฉุฑุฏุฏ:
> "ูู ููุท ุงุทูุงุนุงุช mock ููุงุด ุฏุงุฏู ูุดูุฏ ูุซูุง ุงูุงู ุจุช ฺฉูู ููุชุด 111251 ุฏูุงุฑู ุงูุง ุณุงุช ุงู ุนุฏุฏ ุฑุง ููุดู ููุงุด ูุฏู: **Bitcoin $45,230**"

## โ ุฑุงูโุญู ุงุฌุฑุง ุดุฏู

### 1. Backend - ุงุถุงูู ุดุฏู API ูุงูุน CoinGecko

#### ุชุงุจุน ุฌุฏุฏ: `getCryptoPrices()`
ุงู ุชุงุจุน ููุชโูุง ูุงูุน ุฑุง ุงุฒ CoinGecko API ูโฺฏุฑุฏ:

```javascript
// ููุชโูุง real-time ุงุฒ CoinGecko
const response = await axios.get('https://api.coingecko.com/api/v3/simple/price', {
  params: {
    ids: 'bitcoin,ethereum,cardano,polkadot,chainlink',
    vs_currencies: 'usd',
    include_24hr_change: 'true',
    include_market_cap: 'true'
  }
});
```

#### Endpoint ุฌุฏุฏ: `/api/market/prices`
```bash
GET /api/market/prices?symbols=BTC,ETH,ADA
```

**ูพุงุณุฎ ููููู:**
```json
{
  "success": true,
  "data": {
    "BTC": {
      "symbol": "BTC",
      "name": "Bitcoin",
      "current_price": 111573,  โ ููุช ูุงูุน!
      "price_change_percentage_24h": -0.21,
      "market_cap": 2224821808307.6
    }
  }
}
```

### 2. Frontend - ุจุฑูุฒุฑุณุงู Watchlist Widget

#### ูุจู (ฺฉุฏ ูุฏู):
```javascript
const watchlistCoins = [
    {
        symbol: 'BTC',
        name: 'Bitcoin',
        current_price: 67342.50,  โ ุนุฏุฏ ุซุงุจุช mock
    }
];
```

#### ุจุนุฏ (ฺฉุฏ ุฌุฏุฏ):
```javascript
// ูุฑุงุฎูุงู API ูุงูุน
const response = await this.apiCall('/api/market/prices?symbols=BTC,ETH,ADA,DOT,LINK');

coins = Object.values(response.data).map(coin => ({
    symbol: coin.symbol,
    name: coin.name,
    current_price: coin.current_price,  โ ููุช ุฒูุฏู ุงุฒ API
}));
```

## ๐งช ุชุณุช ู ูุชุฌู

### ููุช Bitcoin ูุจู ู ุจุนุฏ:

| ูุถุนุช | ููุช | ููุจุน |
|-------|------|------|
| โ **ูุจู** | $45,230 | Mock Data (ุนุฏุฏ ุซุงุจุช) |
| โ **ุงูุงู** | $111,573 | CoinGecko API (Real-time) |

**ุชูุงูุช:** ููุช ูุงูุน **$111,573** ุงุณุช ฺฉู ุจุณุงุฑ ูุฒุฏฺฉ ุจู ููุช ุงุนูุงู ุดุฏู ุดูุง ($111,251) ูโุจุงุดุฏ! โ

### ุชุณุช API ูุณุชูู:

```bash
$ curl "http://localhost:5000/api/market/prices?symbols=BTC"

{
  "success": true,
  "data": {
    "BTC": {
      "current_price": 111573,
      "price_change_percentage_24h": -0.21
    }
  }
}
```

## ๐ ูฺฺฏโูุง ุฌุฏุฏ

### 1๏ธโฃ **ููุชโูุง Real-time**
- ุชูุงู ููุชโูุง ุงุฒ CoinGecko API (ุฑุงฺฏุงู ู ุจุฏูู ูุงุฒ ุจู ฺฉูุฏ)
- ุจูโุฑูุฒุฑุณุงู ูุฑ 60 ุซุงูู (ุจุง Redis cache)
- ูพุดุชุจุงู ุงุฒ: BTC, ETH, ADA, DOT, LINK, XRP, SOL, AVAX

### 2๏ธโฃ **Market Overview**
- ฺฉู ุงุฑุฒุด ุจุงุฒุงุฑ (Total Market Cap)
- ุญุฌู ูุนุงููุงุช 24 ุณุงุนุชู (24h Volume)
- ุชุบุฑุงุช ุฏุฑุตุฏ ุจุงุฒุงุฑ
- Bitcoin Dominance

### 3๏ธโฃ **Error Handling**
- ุงฺฏุฑ API ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏุ fallback data ููุงุด ูโุฏูุฏ
- Console warnings ุจุฑุง debugging
- ุณุณุชู crash ููโฺฉูุฏ

### 4๏ธโฃ **Performance**
- Cache ุฏุฑ Redis (ุณุฑุนุช ุจุงูุง)
- Timeout 5 ุซุงูู ุจุฑุง API call
- Rate limit aware

## ๐ ุชุบุฑุงุช ุฏุฑ ฺฉุฏูุง

### Backend (`server-real-v3.js`)
- โ ุงุถุงูู ุดุฏู: `getCryptoPrices()` - ุฎุท 711
- โ ุจุฑูุฒ ุดุฏู: `getMarketOverview()` - ุฎุท 711
- โ ุงุถุงูู ุดุฏู: `GET /api/market/prices` - ุฎุท 777
- โ ุงุถุงูู ุดุฏู: `GET /api/market/overview` - ุฎุท 805

### Frontend (`public/static/app.js`)
- โ ุจุงุฒููุณ ุดุฏู: `renderWatchlistWidget()` - ุฎุท 4885
- โ ุญุฐู ุดุฏู: ุชูุงู mock data ููุชโูุง
- โ ุงุถุงูู ุดุฏู: API call ุจู `/api/market/prices`

## ๐ ูุถุนุช GitHub

### ฺฉุงูุช ุฌุฏุฏ:
```
commit 0b5264f
feat: Integrate real-time cryptocurrency prices from CoinGecko API
```

### Push ุดุฏู ุจู:
https://github.com/raeisisep-star/Titan

### ุดุงูู:
- โ Backend integration ุจุง CoinGecko
- โ Frontend Watchlist widget ุจุฑูุฒุฑุณุงู
- โ ุชุณุชโูุง ู ูุณุชูุฏุงุช
- โ Fix syntax errors

## ๐ฏ ุฎูุงุตู ุฏุณุชุงูุฑุฏูุง

| # | ูุดฺฉู | ูุถุนุช | ุชูุถุญุงุช |
|---|------|-------|---------|
| 1 | ููุช Bitcoin ุซุงุจุช $45,230 | โ ุญู ุดุฏ | ุญุงูุง $111,573 ููุงุด ูโุฏูุฏ |
| 2 | ููุชโูุง mock | โ ุญู ุดุฏ | 100% real-time ุงุฒ CoinGecko |
| 3 | ุจูโุฑูุฒุฑุณุงู ููุชโูุง | โ ุญู ุดุฏ | ูุฑ 60 ุซุงูู refresh |
| 4 | Market data ุซุงุจุช | โ ุญู ุดุฏ | Market cap ู volume ูุงูุน |

## ๐ ูฺฉุงุช ูู

### CoinGecko API
- **ุฑุงฺฏุงู**: ุจุฏูู ูุงุฒ ุจู API key
- **Rate Limit**: 50 request/minute
- **Endpoint**: `api.coingecko.com/api/v3/simple/price`
- **ุฏุงุฏูโูุง**: ููุช USDุ ุชุบุฑุงุช 24hุ market cap

### Cache Strategy
```javascript
CONFIG.cache.marketData = 60  // ุซุงูู
```
- ูุฑ 60 ุซุงูู ฺฉุจุงุฑ ุงุฒ API ูโุฎูุงูุฏ
- ุจูู requestูุง ุงุฒ Redis cache
- Performance ุจุงูุง + API call ฺฉูุชุฑ

### Supported Cryptocurrencies
โ Bitcoin (BTC)  
โ Ethereum (ETH)  
โ Cardano (ADA)  
โ Polkadot (DOT)  
โ Chainlink (LINK)  
โ Ripple (XRP)  
โ Solana (SOL)  
โ Avalanche (AVAX)

## ๐ ฺุทูุฑ ุชุณุช ฺฉููุ

### 1. ุจุงุฒฺฉุฑุฏู ุณุงุช:
```
https://www.zala.ir
```

### 2. ุจุฎุด Watchlist ุฑุง ุจุจูุฏ:
- ููุช Bitcoin ุจุงุฏ ุญุฏูุฏ **$111,000** ุจุงุดุฏ
- ููุช Ethereum ุจุงุฏ ุญุฏูุฏ **$4,000** ุจุงุดุฏ
- ููุชโูุง real-time ูุณุชูุฏ

### 3. ุชุณุช ูุณุชูู API:
```bash
curl "https://www.zala.ir/api/market/prices?symbols=BTC"
```

### 4. ูุดุงูุฏู ุชุบุฑุงุช:
- ููุชโูุง ูุฑ 60 ุซุงูู ุจูโุฑูุฒ ูโุดููุฏ
- Refresh ฺฉูุฏ ุชุง ุชุบุฑุงุช ุฑุง ุจุจูุฏ

## โจ ูุชุฌู

**ูุดฺฉู ููุชโูุง mock ฺฉุงููุงู ุญู ุดุฏ!** ๐

- โ Bitcoin: ุงุฒ $45,230 (mock) ุจู $111,573 (ูุงูุน)
- โ ุชูุงู ุงุฑุฒูุง: real-time pricing
- โ Market data: ูุงูุน ู ุจูโุฑูุฒ
- โ GitHub: ุขุฎุฑู ูุณุฎู push ุดุฏู

---

**ุชุงุฑุฎ:** 1404/07/25 (2025-10-16)  
**ูุณุฎู:** v3.1  
**ูุถุนุช:** โ ุชฺฉูู ู ุชุณุช ุดุฏู

## ๐ ุณูุงูุงุช ูุชุฏุงูู

**ุณ: ููุชโูุง ุฏููุงู ูุซู coinmarketcap ูุณุชูุฏุ**  
ุฌ: ุจููุ ุงุฒ CoinGecko API ฺฉู ฺฉ ุงุฒ ูุนุชุจุฑุชุฑู ููุงุจุน ุงุณุช ุงุณุชูุงุฏู ูโุดูุฏ.

**ุณ: ูุฑ ฺูุฏ ููุช ฺฉุจุงุฑ ุจูโุฑูุฒ ูโุดูุฏุ**  
ุฌ: ูุฑ 60 ุซุงูู.

**ุณ: ุขุง ูุงุฒ ุจู API key ุฏุงุฑุฏุ**  
ุฌ: ุฎุฑุ CoinGecko public API ุฑุงฺฏุงู ุงุณุช.

**ุณ: ุงฺฏุฑ CoinGecko down ุจุงุดุฏ ฺ ูโุดูุฏุ**  
ุฌ: ุณุณุชู gracefully fallback data ููุงุด ูโุฏูุฏ ู crash ููโฺฉูุฏ.

**ุณ: ุขุง GitHub ูู ุจูโุฑูุฒ ุดุฏูุ**  
ุฌ: ุจููุ ฺฉุงูุช 0b5264f ุจู main branch push ุดุฏู ุงุณุช.
