# TITAN Scripts

ุงู ูพูุดู ุดุงูู ุงุณฺฉุฑูพุชโูุง ุนููุงุช ุจุฑุง ูุฏุฑุช ู ูุธุงุฑุช ุจุฑ ุณุณุชู TITAN ุงุณุช.

## ๐ ูุญุชูุงุช

### error-watch.sh
**ูุณุฆููุช**: ูุธุงุฑุช real-time ุจุฑ ูุงฺฏโูุง ุณุณุชู ู ุงุฑุณุงู ูุดุฏุงุฑ ุจุฑุง ุฎุทุงูุง

**ูฺฺฏโูุง:**
- ูุธุงุฑุช ูุฏุงูู ุจุฑ `logs/titan.log`
- ุชุดุฎุต ุฎุทุงูุง ุณุทุญ ERROR ู FATAL (pino level 50/60)
- Cooldown 5 ุฏูููโุง ุจู ูุดุฏุงุฑูุง (ุฌููฺฏุฑ ุงุฒ spam)
- ุซุจุช ูุดุฏุงุฑูุง ุฏุฑ `logs/error-alerts.log`
- ุงุฑุณุงู ุงูู ูุญู (ุงฺฏุฑ mail ูุตุจ ุจุงุดุฏ)
- ุซุจุช ุฏุฑ system log ุจุง `logger`

**ุงุฌุฑุง ุจุง PM2:**
```bash
pm2 start scripts/error-watch.sh --name titan-error-watch
pm2 save
```

**ุจุฑุฑุณ ูุถุนุช:**
```bash
pm2 status titan-error-watch
pm2 logs titan-error-watch
```

**ูุงฺฏโูุง ูุดุฏุงุฑ:**
```bash
tail -f logs/error-alerts.log
```

**ุชููู:**
```bash
pm2 stop titan-error-watch
pm2 delete titan-error-watch
```

---

## ๐ง ูฺฏูุฏุงุฑ

### ุงุถุงูู ฺฉุฑุฏู ุงุณฺฉุฑูพุช ุฌุฏุฏ

1. ูุงู ุฑุง ุฏุฑ `scripts/` ุงุฌุงุฏ ฺฉูุฏ
2. ุงุฌุงุฒู ุงุฌุฑุง ุจุฏูุฏ: `chmod +x scripts/your-script.sh`
3. ูุณุชูุฏุงุช ุฑุง ุฏุฑ ุงู README ุงุถุงูู ฺฉูุฏ
4. ุฏุฑ ุตูุฑุช ูุงุฒุ ุจุง PM2 ุจู ุนููุงู ุณุฑูุณ ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ

### Best Practices

- ููุดู ุงุฒ `set -euo pipefail` ุฏุฑ bash scripts ุงุณุชูุงุฏู ฺฉูุฏ
- ุฎุฑูุฌโูุง ููู ุฑุง log ฺฉูุฏ
- Error handling ููุงุณุจ ุฏุงุดุชู ุจุงุดุฏ
- ุงุฒ absolute paths ุงุณุชูุงุฏู ฺฉูุฏ
- ูุณุชูุฏุงุช ฺฉุงูู ุจููุณุฏ

---

## ๐ ูุธุงุฑุช

**ุจุฑุฑุณ ุณุฑูุณโูุง PM2:**
```bash
pm2 status
```

**ุจุฑุฑุณ ูุงฺฏโูุง:**
```bash
pm2 logs
pm2 logs titan-error-watch --lines 50
```

**Restart ฺฉุฑุฏู:**
```bash
pm2 restart titan-error-watch
```

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู**: 2025-11-02  
**ูฺฏูุฏุงุฑูุฏู**: TITAN DevOps Team
