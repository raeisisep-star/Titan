╔══════════════════════════════════════════════════════════════════╗
║                                                                  ║
║           🚀 TITAN FRONTEND - دستورات Deploy             ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝

📍 همه فایل‌ها آماده هستند در: /tmp/webapp/Titan/

✅ فایل‌های Deploy شده:
   • public/index.html         (12,132 bytes) - HTML کامل application
   • public/static/            (116 files)    - همه modules و assets
   • public/config.js          (1,339 bytes)  - Configuration با HTTPS
   • nginx-titan-updated.conf  (3,991 bytes)  - Nginx config جدید

════════════════════════════════════════════════════════════════════

🎯 روش 1: دستور تک‌خطی (پیشنهادی ⭐)

کپی کنید و در terminal خود paste کنید:

───────────────────────────────────────────────────────────────────

cd /tmp/webapp/Titan && sudo cp /etc/nginx/sites-available/titan /etc/nginx/sites-available/titan.backup.$(date +%Y%m%d_%H%M%S) && sudo cp nginx-titan-updated.conf /etc/nginx/sites-available/titan && sudo nginx -t && sudo systemctl reload nginx && echo "✅ Deployment موفقیت آمیز بود!"

───────────────────────────────────────────────────────────────────

🎯 روش 2: اجرای Script آماده

───────────────────────────────────────────────────────────────────

bash /tmp/webapp/Titan/QUICK_DEPLOY.sh

───────────────────────────────────────────────────────────────────

🎯 روش 3: مرحله به مرحله (برای بررسی دقیق)

───────────────────────────────────────────────────────────────────

# 1️⃣ رفتن به پوشه پروژه
cd /tmp/webapp/Titan

# 2️⃣ Backup از config فعلی
sudo cp /etc/nginx/sites-available/titan /etc/nginx/sites-available/titan.backup.$(date +%Y%m%d_%H%M%S)

# 3️⃣ Deploy کردن config جدید
sudo cp nginx-titan-updated.conf /etc/nginx/sites-available/titan

# 4️⃣ Test کردن config (باید "ok" نشان دهد)
sudo nginx -t

# 5️⃣ Reload کردن Nginx
sudo systemctl reload nginx

# 6️⃣ بررسی وضعیت
sudo systemctl status nginx

───────────────────────────────────────────────────────────────────

════════════════════════════════════════════════════════════════════

✅ بعد از اجرای دستورات:

1. Browser خود را باز کنید
2. آدرس بزنید: https://www.zala.ir
3. باید صفحه Login تایتان (🚀) را ببینید
4. دکمه "🔍 تست اتصال سیستم" را بزنید
5. باید پیغام موفقیت آمیز نشان دهد

════════════════════════════════════════════════════════════════════

🔍 بررسی و عیب‌یابی:

• بررسی Backend:
  pm2 status
  pm2 logs titan-backend

• بررسی Nginx Logs:
  sudo tail -50 /var/log/nginx/titan-ssl-error.log

• تست Local:
  curl https://www.zala.ir/
  curl https://www.zala.ir/static/app.js

• بررسی فایل‌های Static:
  ls -lh /tmp/webapp/Titan/public/static/app.js

════════════════════════════════════════════════════════════════════

📖 مستندات کامل:

برای راهنمای جامع:
  cat /tmp/webapp/Titan/DEPLOYMENT_INSTRUCTIONS.md

════════════════════════════════════════════════════════════════════

🔄 Rollback (برگشت به نسخه قبلی):

اگر مشکلی پیش آمد:

# پیدا کردن آخرین backup
ls -lt /etc/nginx/sites-available/titan.backup.* | head -1

# Restore کردن
sudo cp /etc/nginx/sites-available/titan.backup.YYYYMMDD_HHMMSS /etc/nginx/sites-available/titan

# Reload
sudo nginx -t && sudo systemctl reload nginx

════════════════════════════════════════════════════════════════════

🎉 تغییرات اعمال شده:

BEFORE (قبل):
  • Nginx root: /tmp/webapp/Titan/dist
  • Static files: /tmp/webapp/Titan/dist/static/
  • Content: صفحه status ساده (اشتباه)

AFTER (بعد):
  • Nginx root: /tmp/webapp/Titan/public
  • Static files: /tmp/webapp/Titan/public/static/
  • Content: Application کامل TITAN Trading System

════════════════════════════════════════════════════════════════════

🚀 آماده برای Deploy!

فقط یکی از 3 روش بالا را انتخاب کنید و اجرا کنید.

════════════════════════════════════════════════════════════════════
